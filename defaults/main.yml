---
# Package installation
boundary_install_package: true
boundary_version: '0.1.2'
boundary_autocomplete_state: file # can be changed to absent

# Config files can be customized
boundary_home_directory: '/etc/boundary.d'
boundary_worker_file: '{{ boundary_home_directory }}/boundary-worker.hcl'
boundary_controller_file: '{{ boundary_home_directory }}/boundary-controller.hcl'
boundary_install_directory: "'/usr/bin' if boundary_install_package == true else '{{ boundary_data_directory }}/bin'"

# Database initialization from https://www.boundaryproject.io/docs/installing/no-gen-resources
# Clear this value to pre-populate an example admin, organization, and project in the DB
boundary_db_init_flags: '-skip-initial-login-role'

# Only used if package installation == false
boundary_url: 'https://releases.hashicorp.com/boundary'
boundary_data_directory: '/opt/boundary'

boundary_user: 'boundary'
boundary_group: 'boundary'
boundary_create_account: true

boundary_architecture_map:
  # this first entry seems... redundant (but it's required for reasons)
  amd64: amd64
  x86_64: amd64
  armv7l: arm
  aarch64: arm64
boundary_architecture: "{{ boundary_architecture_map[ansible_architecture] }}"
boundary_os: "{{ ansible_system|lower }}"
boundary_archive: "boundary_{{ boundary_version }}_{{ boundary_os }}_{{ boundary_architecture }}.zip"
boundary_download: '{{ boundary_url }}/{{ boundary_version }}/{{ boundary_archive }}'
boundary_shasums: "boundary_{{ boundary_version }}_SHA256SUMS"
# yamllint disable-line rule:line-length
boundary_zip_url: "{{ boundary_url }}/{{ boundary_version }}/boundary_{{ boundary_version }}_{{ boundary_os }}_{{ boundary_architecture }}.zip"
boundary_checksum_file_url: "{{ boundary_url }}/{{ boundary_version }}/{{ boundary_shasums }}"

# Key management
boundary_client_addr: '0.0.0.0'
boundary_tls_disable: true
boundary_cors_enabled: false
boundary_disable_mlock: true

boundary_kms_type: 'gcpckms'

boundary_tls_copy_keys: true
boundary_tls_files_remote_src: false
boundary_tls_src_files: 'files/tls'
boundary_tls_config_path: "{{ boundary_home_directory }}/tls"
boundary_tls_ca_file: ca_cert.pem
boundary_tls_cert_file: client_cert.pem
boundary_tls_key_file: client_key.pem
